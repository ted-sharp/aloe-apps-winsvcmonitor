<aside popover="auto" id="service-confirm-modal" style="position: absolute; inset: auto; margin: auto; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 90%; max-width: 500px; padding: 1.5rem;">
    <h3 style="margin-top: 0; margin-bottom: 1rem">@Title</h3>
    <div style="margin-bottom: 1.5rem; color: var(--muted-color)">
        @Message
    </div>
    <div style="display: flex; gap: 0.5rem; justify-content: flex-end">
        <button type="button" class="secondary btn-sm" popovertarget="service-confirm-modal" popovertargetaction="hide">キャンセル</button>
        <button type="button" class="@ConfirmButtonClass btn-sm" @onclick="ConfirmAndClose" popovertarget="service-confirm-modal" popovertargetaction="hide">@ConfirmButtonText</button>
    </div>
</aside>

@code {
    [Parameter]
    public string Title { get; set; } = string.Empty;

    [Parameter]
    public string Message { get; set; } = string.Empty;

    [Parameter]
    public string ConfirmButtonText { get; set; } = "はい";

    [Parameter]
    public string ConfirmButtonClass { get; set; } = "danger";

    [Parameter]
    public EventCallback OnConfirm { get; set; }

    private async Task ConfirmAndClose()
    {
        await OnConfirm.InvokeAsync();
    }
}
